<!DOCTYPE html><!--  Last Published: Tue May 25 2021 14:05:54 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="6079f860afade0cab905663d" data-wf-site="5f58fccfa158267296fc4d69">
<head>
  <meta charset="utf-8">
  <title>Account Setup</title>
  <meta content="Account Setup" property="og:title">
  <meta content="Account Setup" property="twitter:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/cookwithcrafted.webflow.css" rel="stylesheet" type="text/css">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["Montserrat:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic","Open Sans:300,300italic,400,400italic,600,600italic,700,700italic,800,800italic","Merriweather:300,300italic,400,400italic,700,700italic,900,900italic","Red Hat Display:regular,italic,500,500italic,700,700italic,900","Permanent Marker:regular"]  }});</script>
  <!-- [if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif] -->
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="images/favicon.png" rel="shortcut icon" type="image/x-icon">
  <link href="images/webclip.png" rel="apple-touch-icon">
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-183005151-1"></script>
  <script type="text/javascript">window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'UA-183005151-1', {'anonymize_ip': false});</script>
  <script id="jetboost-script" type="text/javascript"> window.JETBOOST_SITE_ID = "ckij6idsv15pv07870rpn02o8"; (function() { d = document; s = d.createElement("script"); s.src = "https://cdn.jetboost.io/jetboost.js"; s.async = 1; d.getElementsByTagName("head")[0].appendChild(s); })(); </script>
  <script type="text/javascript">
  window.MemberfulOptions = {site: "https://usecrafted.memberful.com"};
  (function() {
    var s   = document.createElement('script');
    s.type  = 'text/javascript';
    s.async = true;
    s.src   = 'https://d35xxde4fgg0cx.cloudfront.net/assets/embedded.js';
    setup = function() { window.MemberfulEmbedded.setup(); }
    s.addEventListener("load", setup, false);
    ( document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0] ).appendChild( s );
  })();
</script>
  <style>
  .error-message {
    display: none;
  }
</style>
</head>
<body>
  <div data-collapse="medium" data-animation="default" data-duration="400" role="banner" class="navbar nav-link w-nav">
    <div class="container alt-nav-container w-container">
      <a href="#" class="w-nav-brand">
        <div><img src="images/CRAFTED-10.png" loading="lazy" sizes="135px" srcset="images/CRAFTED-10-p-500.png 500w, images/CRAFTED-10-p-800.png 800w, images/CRAFTED-10-p-1080.png 1080w, images/CRAFTED-10-p-1600.png 1600w, images/CRAFTED-10-p-2000.png 2000w, images/CRAFTED-10-p-2600.png 2600w, images/CRAFTED-10-p-3200.png 3200w, images/CRAFTED-10.png 4050w" alt="" class="logo"></div>
      </a>
      <nav role="navigation" class="nav-menu-3 w-nav-menu">
        <a href="https://instagram.com/usecrafted" target="_blank" class="w-inline-block"><img src="images/instagram.png" loading="lazy" height="" sizes="(max-width: 991px) 100vw, 100px" srcset="images/instagram-p-500.png 500w, images/instagram.png 512w" alt="" class="image-29"></a>
      </nav>
      <div class="w-nav-button">
        <div class="w-icon-nav-menu"></div>
      </div>
    </div>
  </div>
  <div class="section-16">
    <div class="container-6 w-container">
      <h4 class="heading-96">Profile Information</h4>
      <div class="form-block-4 w-form">
        <form id="wf-form-Account-Setup-Form" name="wf-form-Account-Setup-Form" data-name="Account Setup Form" class="form-9">
          <div>
            <div id="profilePicture" class="w-file-upload">
              <div class="w-file-upload-default"><input type="file" id="Photo" name="Photo" data-name="Photo" accept=".bmp, .dng, .eps, .gif, .jpg, .jpeg, .png, .ps, .raw, .svg, .tga, .tif, .tiff" class="w-file-upload-input"><label for="Photo" class="upload-file w-file-upload-label">
                  <div class="w-icon-file-upload-icon"></div>
                  <div class="w-inline-block">Upload File</div>
                </label>
                <div class="w-file-upload-info">Max file size 10MB.</div>
              </div>
              <div class="w-file-upload-uploading w-hidden">
                <div class="w-file-upload-uploading-btn"><svg class="w-icon-file-upload-uploading" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 30 30">
                    <path fill="currentColor" opacity=".2" d="M15 30a15 15 0 1 1 0-30 15 15 0 0 1 0 30zm0-3a12 12 0 1 0 0-24 12 12 0 0 0 0 24z"></path>
                    <path fill="currentColor" opacity=".75" d="M0 15A15 15 0 0 1 15 0v3A12 12 0 0 0 3 15H0z"></path>
                      <animatetransform attributename="transform" attributetype="XML" dur="0.6s" from="0 15 15" repeatcount="indefinite" to="360 15 15" type="rotate"></animatetransform>
                  </svg>
                  <div class="w-inline-block">Uploading...</div>
                </div>
              </div>
              <div class="w-file-upload-success w-hidden">
                <div class="w-file-upload-file">
                  <div class="w-file-upload-file-name">fileuploaded.jpg</div>
                  <div class="w-file-remove-link">
                    <div class="w-icon-file-upload-remove"></div>
                  </div>
                </div>
              </div>
              <div class="w-file-upload-error w-hidden">
                <div class="w-file-upload-error-msg" data-w-size-error="Upload failed. Max size for files is 10 MB." data-w-type-error="Upload failed. Invalid file type." data-w-generic-error="Upload failed. Something went wrong. Please retry.">Upload failed. Max size for files is 10 MB.</div>
              </div>
            </div>
          </div>
          <div><input type="text" class="std-text-field w-input" maxlength="256" name="name" data-name="Name" placeholder="Profile Name (ex. The Failed Foodie, Todd the Odd Chef)" id="profileName" required=""></div>
          <div class="div-block-133">
            <div class="text-block-83">@</div><input type="text" class="std-text-field w-input" maxlength="256" name="Username" data-name="Username" placeholder="Username" id="userName" required="">
          </div><textarea data-name="Bio" maxlength="280" id="profileBio" name="Bio" required="" placeholder="Tell your fans a little about yourself!" class="textarea w-input"></textarea>
          <div><input type="text" class="std-text-field firebase-id hidden w-input" maxlength="256" name="Firebase-Uid" data-name="Firebase Uid" placeholder="Firebase ID (hidden)" id="firebaseUid"></div><input type="submit" value="Submit" data-wait="Please wait..." id="submitButton" class="std-button blogger-button w-button">
        </form>
        <div id="wf-account-setup-form" class="success-message w-form-done"><img src="images/Spinner-1s-200px-1.gif" loading="lazy" alt="Loading..."></div>
        <div class="w-form-fail">
          <div>Oops! Something went wrong while submitting the form.</div>
        </div>
      </div>
    </div>
  </div>
  <div class="section footer-section">
    <div class="div-block-7">
      <h1 class="heading-13">Crafted</h1>
      <h4 class="heading-16">team@usecrafted.com</h4>
    </div>
  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=5f58fccfa158267296fc4d69" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="js/webflow.js" type="text/javascript"></script>
  <!-- [if lte IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif] -->
  <!--  Insert these scripts at the bottom of the HTML, but before you use any Firebase services  -->
  <!--  The core Firebase JS SDK is always required and must be listed first  -->
  <script src="https://www.gstatic.com/firebasejs/8.1.2/firebase-app.js"></script>
  <!--  TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries  -->
  <script src="https://www.gstatic.com/firebasejs/8.1.2/firebase-analytics.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.1.2/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.1.2/firebase-database.js"></script>
  <!--  Configure Firebase  -->
  <script>
  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  var firebaseConfig = {
    apiKey: "AIzaSyDV9TvKicGAPbBUJMnjx4USCkztQg2GftU",
    authDomain: "crafted-v1.firebaseapp.com",
    databaseURL: "https://crafted-v1.firebaseio.com",
    projectId: "crafted-v1",
    storageBucket: "crafted-v1.appspot.com",
    messagingSenderId: "875601052690",
    appId: "1:875601052690:web:559726ef8bf2655888c4cb",
    measurementId: "G-13PKY6114K"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();
</script>
  <!--  auth state function  -->
  <script>
	var publicPages = [
      	'/additional-info',
      	'/no-account',
      	'/fans',
      	'/'
      ]
	var privatePages = [
		'/add-recipe',
		'/challenges',
		'/additional-info',
		'/add-meal-plan'
	] 
	function logout() {
		firebase.auth().signOut();
	}
  	if (typeof profileLink !== "undefined") {
  		profileLink.href = "https://usecrafted.com";
    }
    firebase.auth().onAuthStateChanged(function (user) {
        var currentPath = window.location.pathname;
        if (user) {
            // User is signed in.
            console.log('User is logged in!');
            console.log('Email: ' + user.email);
            console.log('UID: ' + user.uid);
          	if (typeof authNav !== "undefined") {
              authNav.style.display = "none";
            }
          	var database = firebase.database();
          	setTimeout(2000);
          	database.ref().child('users/' + user.uid + '/crafted_link/success').on('value', (snapshot) =>{
  				const data = snapshot.val();
  				if (data === 'yes') {
  					var link = "https://usecrafted.com/c/" + user.uid;
                  	if (typeof profileLink !== "undefined") {
          				profileLink.href = link;
          				profileLink.style.display = "block";
                    } else {
                     	//tell them to go finish their profile
                    }
                    if (typeof logoutLink !== "undefined") {
                      	logoutLink.style.display = "block";
          				logoutLink.addEventListener('click', function() {
          					logout();
          				});
            		}
  				} else {
                  //window.location.replace('https://www.usecrafted.com/c/' + user.uid);
                }
			});
          	/*if (typeof logoutLink !== "undefined") {
          		logoutLink.addEventListener('click', function() {
          			logout();
          		});
            }*/
        } else {
            // User is signed out.
            console.log('No user is logged in');
            // User is signed out.
            if (typeof authNav !== "undefined") {
              authNav.style.display = "block";
            }
            if (privatePages.includes(currentPath)) {
                console.log('Redirecting to /log-in...');
              	window.location.replace('/log-in');
            } else {
              	if (typeof profileLink !== "undefined" && typeof logoutLink !== "undefined") {
                	logoutLink.style.display = 'none';
            		profileLink.style.display = 'none';
                }
            }
        }
    });
</script>
  <style>
body{
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
</style><!--  Additional Member Info - -->
  <script>
	var profilename = "";
	profileBio.addEventListener('keyup', function() {
    	const regex =  /\r?\n/gi;
      var input = String(this.value);
      this.value = input.replace(regex, " ");
  });
  userName.addEventListener('keyup', function() {
  	setTimeout(2000);
  	// Check to see if username is unique 
    var potUsername = String(this.value)
    var userRef = firebase.database().ref('users');
    userRef.orderByChild("username").equalTo(potUsername).once('value', function(snapshot) {
    	if (snapshot.exists()) {
      		userName.value = potUsername.replace(potUsername, "")
          alert('Username already taken. Please try again.');
      }
    });
  });
  submitButton.addEventListener('click', addInfo);
	function addInfo() {
		submitButton.style.display = 'block';
    firebase.auth().onAuthStateChanged(function (user) {
	        if (user) {
	            // User is signed in.
	            console.log('Additional Info Page: User is logged in!');
	            console.log('Email: ' + user.email);
	            console.log('UID: ' + user.uid);
	            firebaseUid.value = String(user.uid);
	            var u = firebaseUid.value; 
	            console.log('Successful: ' + u);
	            var uName = profileName.value;
              var uUsername = userName.value;
              var uBio = profileBio.value;
              profilename = profileName.value;
	            var database = firebase.database();
              database.ref().child('users/' + user.uid + '/profile_name').set(uName);
              database.ref().child('users/' + user.uid + '/bio').set(uBio);
              database.ref().child('users/' + user.uid + '/email').set(user.email);
             console.log('ref: users/' + user.uid);
          		database.ref().child('users/' + u + '/crafted_link/success').on('value', (snapshot) =>{
  								const data = snapshot.val();
  								if (data === 'yes') {
  										window.location.replace('./c/' + user.uid);
                      database.ref().child('users/' + user.uid + '/username').set(uUsername);
  								}
							});
	        } else {
	            // User is signed out.
	            console.log('No user is logged in');
	        }
    	});
	}
</script>
</body>
</html>